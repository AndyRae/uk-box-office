{% extends 'base.html' %}
{% import 'includes/schema.html' as dataschema %}

{% block title %}Highest Grossing Films{% endblock %}

{% block schema %}
	{{ dataschema.render_schema(
		'Highest Grossing Films UK Box Office 2001 - 2022',
		url_for(request.endpoint, **request.view_args),
		'2001 - 2022' )
	}}
{% endblock %}

{% block header %}
<div class="uk-container">
	<ul class="uk-breadcrumb">
		<li><a href="/">Home</a></li>
		<li><a href="{{ url_for('index.reports') }}">Reports</a></li>
		<li aria-current="page"><span>Highest Grossing Films</span></li>
	</ul>

	<h1>Highest Grossing Films</h1>
</div>
{% endblock %}

{% block content %}
<div class="uk-container uk-margin-medium-top">

	<div class="uk-overflow-auto">
		<table class="uk-table uk-table-small uk-table-divider uk-table-hover uk-table-striped" id="filmsTable">
			<thead>
				<tr>
					<th class="uk-text-center">Rank</th>
					<th>Film</th>
					<th>Distributor</th>
					<th class="uk-text-center">Box Office</th>
				</tr>
			</thead>
			<tbody>
				{% for i in data %}
					<tr >
						<td class="uk-text-center">{{ loop.index }}</td>
						<td>
							<a class="action" href="{{ url_for('index.film', slug=i.weeks[0].film_slug) }}">
								{{ i.name|title }}
							</a>
						</td>
						<td>{{ i.distributor|title }}</td>
						<td class="uk-text-center">{{  "Â£{:,}".format(i.weeks[-1].total_gross) }}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>

</div>


{% endblock %}
